{% extends 'main/base.html' %}

{% block title %}Payment Options - Conas Connect{% endblock %}

{% block content %}
<section class="py-5">
    <div class="container">
        <h1 class="text-center mb-5">Upgrade Your Account</h1>
        
        <div class="row justify-content-center mb-5">
            <div class="col-md-8">
                <div class="card border-0 shadow">
                    <div class="card-body p-4">
                        <h4 class="card-title text-center mb-4">Why Upgrade?</h4>
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item d-flex align-items-center">
                                        <i class="bi bi-check-circle-fill text-success me-2"></i>
                                        Access to premium educational resources
                                    </li>
                                    <li class="list-group-item d-flex align-items-center">
                                        <i class="bi bi-check-circle-fill text-success me-2"></i>
                                        Past examination papers with solutions
                                    </li>
                                    <li class="list-group-item d-flex align-items-center">
                                        <i class="bi bi-check-circle-fill text-success me-2"></i>
                                        Advanced topic materials
                                    </li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item d-flex align-items-center">
                                        <i class="bi bi-check-circle-fill text-success me-2"></i>
                                        Career development resources
                                    </li>
                                    <li class="list-group-item d-flex align-items-center">
                                        <i class="bi bi-check-circle-fill text-success me-2"></i>
                                        Priority access to events and workshops
                                    </li>
                                    <li class="list-group-item d-flex align-items-center">
                                        <i class="bi bi-check-circle-fill text-success me-2"></i>
                                        Networking opportunities with industry professionals
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <h2 class="text-center mb-4">Choose Your Payment Plan</h2>
        
        <div class="row justify-content-center">
            <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-header bg-primary text-white text-center py-3">
                        <h4 class="mb-0">Monthly</h4>
                    </div>
                    <div class="card-body text-center">
                        <h2 class="card-title pricing-card-title">
                            UGX 10,000<small class="text-muted fw-light">/mo</small>
                        </h2>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li>Full access to premium resources</li>
                            <li>Access to past papers</li>
                            <li>Event notifications</li>
                            <li>Cancel anytime</li>
                        </ul>
                        <button type="button" class="btn btn-lg btn-primary w-100" data-bs-toggle="modal" data-bs-target="#paymentModal" data-plan="monthly">Select Plan</button>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4 mb-4">
                <div class="card h-100 shadow border-primary">
                    <div class="card-header bg-primary text-white text-center py-3">
                        <h4 class="mb-0">Semester</h4>
                        <span class="badge bg-warning text-dark">Most Popular</span>
                    </div>
                    <div class="card-body text-center">
                        <h2 class="card-title pricing-card-title">
                            UGX 25,000<small class="text-muted fw-light">/semester</small>
                        </h2>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li>Full access to premium resources</li>
                            <li>Access to past papers</li>
                            <li>Priority event registration</li>
                            <li>Save 17% compared to monthly</li>
                        </ul>
                        <button type="button" class="btn btn-lg btn-primary w-100" data-bs-toggle="modal" data-bs-target="#paymentModal" data-plan="semester">Select Plan</button>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-header bg-primary text-white text-center py-3">
                        <h4 class="mb-0">Annual</h4>
                    </div>
                    <div class="card-body text-center">
                        <h2 class="card-title pricing-card-title">
                            UGX 40,000<small class="text-muted fw-light">/year</small>
                        </h2>
                        <ul class="list-unstyled mt-3 mb-4">
                            <li>Full access to premium resources</li>
                            <li>Access to past papers</li>
                            <li>Priority event registration</li>
                            <li>Save 33% compared to monthly</li>
                            <li>Career development resources</li>
                        </ul>
                        <button type="button" class="btn btn-lg btn-primary w-100" data-bs-toggle="modal" data-bs-target="#paymentModal" data-plan="annual">Select Plan</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="text-center mt-4">
            <p class="text-muted">All plans include access to premium educational resources and past papers.</p>
            <p class="text-muted">Need help? <a href="#">Contact our support team</a></p>
        </div>
    </div>
</section>

<!-- Payment Modal -->
<div class="modal fade" id="paymentModal" tabindex="-1" aria-labelledby="paymentModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="paymentModalLabel">Complete Your Payment</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6 border-end">
                        <h5 class="mb-3">Payment Summary</h5>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Plan:</span>
                            <span id="selectedPlan">Semester</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Amount:</span>
                            <span id="selectedAmount">UGX 25,000</span>
                        </div>
                        <hr>
                        <div class="d-flex justify-content-between mb-2 fw-bold">
                            <span>Total:</span>
                            <span id="totalAmount">UGX 25,000</span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h5 class="mb-3">Payment Method</h5>
                        <ul class="nav nav-tabs" id="paymentTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="mobile-money-tab" data-bs-toggle="tab" data-bs-target="#mobile-money" type="button" role="tab" aria-controls="mobile-money" aria-selected="true">Mobile Money</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="bank-transfer-tab" data-bs-toggle="tab" data-bs-target="#bank-transfer" type="button" role="tab" aria-controls="bank-transfer" aria-selected="false">Bank Transfer</button>
                            </li>
                        </ul>
                        <div class="tab-content mt-3" id="paymentTabsContent">
                            <div class="tab-pane fade show active" id="mobile-money" role="tabpanel" aria-labelledby="mobile-money-tab">
                                <form>
                                    <div class="mb-3">
                                        <label for="mobileMoneyProvider" class="form-label">Provider</label>
                                        <select class="form-select" id="mobileMoneyProvider" required>
                                            <option value="" selected disabled>Select provider</option>
                                            <option value="mtn">MTN Mobile Money</option>
                                            <option value="airtel">Airtel Money</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="phoneNumber" class="form-label">Phone Number</label>
                                        <input type="tel" class="form-control" id="phoneNumber" placeholder="e.g., 0771234567" required>
                                        <div class="form-text">Enter the phone number registered with your mobile money account.</div>
                                    </div>
                                </form>
                            </div>
                            <div class="tab-pane fade" id="bank-transfer" role="tabpanel" aria-labelledby="bank-transfer-tab">
                                <div class="alert alert-info">
                                    <h6>Bank Account Details:</h6>
                                    <p class="mb-1">Account Name: Conas Connect</p>
                                    <p class="mb-1">Account Number: 1234567890</p>
                                    <p class="mb-1">Bank: Stanbic Bank</p>
                                    <p class="mb-1">Branch: Makerere University Branch</p>
                                    <p class="mb-0">Reference: Your full name</p>
                                </div>
                                <form>
                                    <div class="mb-3">
                                        <label for="transferReference" class="form-label">Transfer Reference</label>
                                        <input type="text" class="form-control" id="transferReference" placeholder="Enter the reference used for the transfer" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="transferProof" class="form-label">Upload Payment Proof</label>
                                        <input class="form-control" type="file" id="transferProof" required>
                                        <div class="form-text">Upload a screenshot or photo of your payment receipt.</div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Complete Payment</button>
            </div>
        </div>
    </div>
</div>

<section class="bg-light py-5">
    <div class="container">
        <h2 class="text-center mb-4">Frequently Asked Questions</h2>
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="accordion" id="paymentFAQ">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                How do I access premium content after payment?
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#paymentFAQ">
                            <div class="accordion-body">
                                Once your payment is confirmed, your account will be automatically upgraded to premium status. You'll receive a confirmation email, and you'll be able to access all premium content immediately. If you don't see the premium content within 24 hours after payment, please contact our support team.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                Can I cancel my subscription?
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#paymentFAQ">
                            <div class="accordion-body">
                                Yes, you can cancel your subscription at any time. For monthly plans, your access will continue until the end of the current billing period. For semester and annual plans, we do not offer refunds for unused time, but your access will continue until the end of the paid period.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                Is my payment information secure?
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#paymentFAQ">
                            <div class="accordion-body">
                                Yes, we take security seriously. We do not store your payment information on our servers. All payments are processed through secure payment gateways that comply with industry standards for data protection and security.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFour">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                What if I'm a Mubis student?
                            </button>
                        </h2>
                        <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#paymentFAQ">
                            <div class="accordion-body">
                                Mubis students automatically have access to all premium content without additional payment. If you're a Mubis student and don't have access, please ensure you've registered with your Mubis student email and contact our support team if you continue to experience issues.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    // Update payment modal based on selected plan
    document.addEventListener('DOMContentLoaded', function() {
        const paymentModal = document.getElementById('paymentModal');
        paymentModal.addEventListener('show.bs.modal', function(event) {
            const button = event.relatedTarget;
            const plan = button.getAttribute('data-plan');
            const selectedPlan = document.getElementById('selectedPlan');
            const selectedAmount = document.getElementById('selectedAmount');
            const totalAmount = document.getElementById('totalAmount');
            
            if (plan === 'monthly') {
                selectedPlan.textContent = 'Monthly';
                selectedAmount.textContent = 'UGX 10,000';
                totalAmount.textContent = 'UGX 10,000';
            } else if (plan === 'semester') {
                selectedPlan.textContent = 'Semester';
                selectedAmount.textContent = 'UGX 25,000';
                totalAmount.textContent = 'UGX 25,000';
            } else if (plan === 'annual') {
                selectedPlan.textContent = 'Annual';
                selectedAmount.textContent = 'UGX 40,000';
                totalAmount.textContent = 'UGX 40,000';
            }
        });
    });
</script>
{% endblock %}
